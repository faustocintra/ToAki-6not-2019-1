<div class="scanner-shell" [hidden]="!hasDevices">

    <header *ngIf="!currentDevice">
      <mat-form-field>
        <mat-label>Selecione a c√¢mera</mat-label>
        <select matNativeControl (change)="onDeviceSelectChange($event.target.value)">
          <option value="" [selected]="!currentDevice">(Nenhuma c√¢mera selecionada)</option>
          <option *ngFor="let device of availableDevices" [value]="device.deviceId" [selected]="currentDevice && device.deviceId === currentDevice.deviceId">{{device.label}}</option>
        </select>
      </mat-form-field>
    </header>
  
    <zxing-scanner #scanner [(device)]="currentDevice" (scanSuccess)="handleQrCodeResult($event)" [formats]="['EAN_13', 'CODE_128', 'QR_CODE']" [tryHarder]="true"></zxing-scanner>
  
    <section class="results" *ngIf="qrResultString">
      <small>Resultado</small>
      <strong>{{ qrResultString }}</strong>
    </section>
  
  </div>
  
  <ng-container *ngIf="hasPermission === undefined">
  
    <h2>Aguardando permiss√µes</h2>
  
    <blockquote>
      Se o seu dispositivo n√£o tem c√¢mera, nenhuma permiss√£o ser√° solicitada.
    </blockquote>
  
  </ng-container>
  
  <ng-container *ngIf="hasPermission === false">
  
    <h2>Voc√™ recusou a permiss√£o de c√¢mera, n√£o podemos ler nada sem isso. üò™</h2>
  
  </ng-container>
  
  <ng-container *ngIf="hasDevices === undefined">
  
    <h2>N√£o foi poss√≠vel procurar por uma c√¢mera.</h2>
  
    <blockquote>
      Isso pode ter sido causado por algum erro de seguran√ßa
    </blockquote>
  
  </ng-container>
  
  <ng-container *ngIf="hasDevices === false">
  
    <h2>Nenhuma c√¢mera encontrada</h2>
  
    <blockquote>
      Parece que seu dispositivo n√£o tem nenhuma camera
    </blockquote>
  
  </ng-container>
  
  <footer>
    <table class="table-scanner-state">
      <thead>
        <tr>
          <th>Estado</th>
          <th>Propridade</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>{{ stateToEmoji(hasDevices) }}</td>
          <td>C√¢meras</td>
        </tr>
        <tr>
          <td>{{ stateToEmoji(hasPermission) }}</td>
          <td>Permiss√µes</td>
        </tr>
  </tbody>
    </table>
    <p class="ng-version">Vers√£o do Angular: {{ ngVersion }}</p>
  </footer>  
  